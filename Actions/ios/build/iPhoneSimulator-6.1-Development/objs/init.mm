extern "C" {
    void ruby_sysinit(int *, char ***);
    void ruby_init(void);
    void ruby_init_loadpath(void);
    void ruby_script(const char *);
    void ruby_set_argv(int, char **);
    void rb_vm_init_compiler(void);
    void rb_vm_init_jit(void);
    void rb_vm_aot_feature_provide(const char *, void *);
    void *rb_vm_top_self(void);
    void rb_rb2oc_exc_handler(void);
    void rb_exit(int);
void MREP_71F15102EC834F2D87700306CCB3C8A0(void *, void *);
void MREP_165A519D9B1E4425B2A4F73AAC5EC549(void *, void *);
void MREP_2316E3773E0541BDA06AA450C4C1ABED(void *, void *);
void MREP_024671D98B8B4E7EBC5E823640F8EBA5(void *, void *);
void MREP_C92A5F2261B0480C9D3C2A86DBEACBFC(void *, void *);
void MREP_672D4065377E48FEBAE7EA6EEFCBE5CD(void *, void *);
void MREP_F69E2F274367467BB1FA4422BD45DDF6(void *, void *);
void MREP_3ED30907FBB44B2AA7E3532509EFD6AC(void *, void *);
void MREP_40BEE5F4009B4343AF14F5CAEF004727(void *, void *);
void MREP_296BC1F25FC243FAA601D0AA8E3DE3ED(void *, void *);
void MREP_876A36C116E84219AE5BF45AD6121A2C(void *, void *);
void MREP_5E7853BDFE8E42CA8D451663C83196E6(void *, void *);
void MREP_266DD114BAD049CFACF0919CB6ECBC17(void *, void *);
void MREP_B80C25917D624F648A70D8D37A54B910(void *, void *);
void MREP_E368F66128ED4B06A7A9A54D1F18BAC8(void *, void *);
void MREP_F88AACFE8B324922844BD45D7EB6DE48(void *, void *);
void MREP_AAD377ED3C9F450FB2F044F4B7707480(void *, void *);
void MREP_2639ADE89D0742F1BDD081FD72061CFB(void *, void *);
void MREP_0A3D88F805794CC19B4B8146FE4A1AAE(void *, void *);
void MREP_D70B4418FCED4119AB0F70B7BBBCB1F1(void *, void *);
void MREP_418CC8E875CE43DBB6B0391D9429243D(void *, void *);
void MREP_5EF656C307EF4E35AA4F1A9E71A0676D(void *, void *);
void MREP_DB99197DD6124D848E7DC7638B7E55EB(void *, void *);
void MREP_08257E6F1B6B4ED88268E232B8CDB06F(void *, void *);
void MREP_9842EEF84E3F402880291FDA2C0ED7CD(void *, void *);
void MREP_9B941D41C7E9422AA449EDB4C52BC090(void *, void *);
void MREP_7AD94AE52D4B47F38BC72DC5286FD7C1(void *, void *);
void MREP_59AADC21A8B44A30A1E891F9989F0922(void *, void *);
void MREP_71878EE2A8E4438BA49D5CE4CB6B27F1(void *, void *);
void MREP_83EE9318F75A4F29A08528559AB5E9FC(void *, void *);
void MREP_6AD2635D094545BF8AA4357E47149C4F(void *, void *);
void MREP_5D13CF05DE7E4CAEB714DA59DBC9B3F5(void *, void *);
void MREP_428A8435F1BD40F3A3CF97B2397D8493(void *, void *);
void MREP_F07DB7EFF9A2423DB20A28CE2103CB60(void *, void *);
void MREP_0E86CD1028174A66BFFDA5A316523832(void *, void *);
void MREP_2A8CD25907074EC8B8A2E1C9FF45FD25(void *, void *);
void MREP_E02BE086C358420AB694F824412FC786(void *, void *);
void MREP_D74531BA6E714B148DD60DACCA3E6B27(void *, void *);
void MREP_8FF2CEE309EF4BEAA4193687EC11375C(void *, void *);
void MREP_28336A81BEAD41BA91421B8364880F88(void *, void *);
void MREP_4EC13BDCF57F4345825F6DD743A79928(void *, void *);
void MREP_D66377C1913D45B3B597FD43EECD470F(void *, void *);
void MREP_2EE3FCD3C75641A2A9EA8CB596DA70C6(void *, void *);
void MREP_6FEDB3090AC643E0B59B7BDC5115A4DF(void *, void *);
void MREP_0D5B4F60034A46D8A34BD4FCFAE98AA3(void *, void *);
void MREP_08D8D5153C664C108559B53A19A9F519(void *, void *);
void MREP_B4407ED388BF487A9184CF3E5B79E3D2(void *, void *);
void MREP_7431D55FF8784421BE434DFADE337544(void *, void *);
void MREP_50D43BC57920418B91B48E1E0B114F45(void *, void *);
void MREP_0E4212E84E2A44A6BD916E04DD3215D3(void *, void *);
}

extern "C"
void
RubyMotionInit(int argc, char **argv)
{
    static bool initialized = false;
    if (!initialized) {
	ruby_init();
	ruby_init_loadpath();
        if (argc > 0) {
	    const char *progname = argv[0];
	    ruby_script(progname);
	}
#if !__LP64__
	try {
#endif
	    void *self = rb_vm_top_self();
MREP_71F15102EC834F2D87700306CCB3C8A0(self, 0);
MREP_165A519D9B1E4425B2A4F73AAC5EC549(self, 0);
MREP_2316E3773E0541BDA06AA450C4C1ABED(self, 0);
MREP_024671D98B8B4E7EBC5E823640F8EBA5(self, 0);
MREP_C92A5F2261B0480C9D3C2A86DBEACBFC(self, 0);
MREP_672D4065377E48FEBAE7EA6EEFCBE5CD(self, 0);
MREP_F69E2F274367467BB1FA4422BD45DDF6(self, 0);
MREP_3ED30907FBB44B2AA7E3532509EFD6AC(self, 0);
MREP_40BEE5F4009B4343AF14F5CAEF004727(self, 0);
MREP_296BC1F25FC243FAA601D0AA8E3DE3ED(self, 0);
MREP_876A36C116E84219AE5BF45AD6121A2C(self, 0);
MREP_5E7853BDFE8E42CA8D451663C83196E6(self, 0);
MREP_266DD114BAD049CFACF0919CB6ECBC17(self, 0);
MREP_B80C25917D624F648A70D8D37A54B910(self, 0);
MREP_E368F66128ED4B06A7A9A54D1F18BAC8(self, 0);
MREP_F88AACFE8B324922844BD45D7EB6DE48(self, 0);
MREP_AAD377ED3C9F450FB2F044F4B7707480(self, 0);
MREP_2639ADE89D0742F1BDD081FD72061CFB(self, 0);
MREP_0A3D88F805794CC19B4B8146FE4A1AAE(self, 0);
MREP_D70B4418FCED4119AB0F70B7BBBCB1F1(self, 0);
MREP_418CC8E875CE43DBB6B0391D9429243D(self, 0);
MREP_5EF656C307EF4E35AA4F1A9E71A0676D(self, 0);
MREP_DB99197DD6124D848E7DC7638B7E55EB(self, 0);
MREP_08257E6F1B6B4ED88268E232B8CDB06F(self, 0);
MREP_9842EEF84E3F402880291FDA2C0ED7CD(self, 0);
MREP_9B941D41C7E9422AA449EDB4C52BC090(self, 0);
MREP_7AD94AE52D4B47F38BC72DC5286FD7C1(self, 0);
MREP_59AADC21A8B44A30A1E891F9989F0922(self, 0);
MREP_71878EE2A8E4438BA49D5CE4CB6B27F1(self, 0);
MREP_83EE9318F75A4F29A08528559AB5E9FC(self, 0);
MREP_6AD2635D094545BF8AA4357E47149C4F(self, 0);
MREP_5D13CF05DE7E4CAEB714DA59DBC9B3F5(self, 0);
MREP_428A8435F1BD40F3A3CF97B2397D8493(self, 0);
MREP_F07DB7EFF9A2423DB20A28CE2103CB60(self, 0);
MREP_0E86CD1028174A66BFFDA5A316523832(self, 0);
MREP_2A8CD25907074EC8B8A2E1C9FF45FD25(self, 0);
MREP_E02BE086C358420AB694F824412FC786(self, 0);
MREP_D74531BA6E714B148DD60DACCA3E6B27(self, 0);
MREP_8FF2CEE309EF4BEAA4193687EC11375C(self, 0);
MREP_28336A81BEAD41BA91421B8364880F88(self, 0);
MREP_4EC13BDCF57F4345825F6DD743A79928(self, 0);
MREP_D66377C1913D45B3B597FD43EECD470F(self, 0);
MREP_2EE3FCD3C75641A2A9EA8CB596DA70C6(self, 0);
MREP_6FEDB3090AC643E0B59B7BDC5115A4DF(self, 0);
MREP_0D5B4F60034A46D8A34BD4FCFAE98AA3(self, 0);
MREP_08D8D5153C664C108559B53A19A9F519(self, 0);
MREP_B4407ED388BF487A9184CF3E5B79E3D2(self, 0);
MREP_7431D55FF8784421BE434DFADE337544(self, 0);
MREP_50D43BC57920418B91B48E1E0B114F45(self, 0);
MREP_0E4212E84E2A44A6BD916E04DD3215D3(self, 0);
#if !__LP64__
	}
	catch (...) {
	    rb_rb2oc_exc_handler();
	}
#endif
	initialized = true;
    }
}

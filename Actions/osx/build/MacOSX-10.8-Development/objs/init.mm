extern "C" {
    void ruby_sysinit(int *, char ***);
    void ruby_init(void);
    void ruby_init_loadpath(void);
    void ruby_script(const char *);
    void ruby_set_argv(int, char **);
    void rb_vm_init_compiler(void);
    void rb_vm_init_jit(void);
    void rb_vm_aot_feature_provide(const char *, void *);
    void *rb_vm_top_self(void);
    void rb_rb2oc_exc_handler(void);
    void rb_exit(int);
void MREP_101BE46DCAB045EDB1FBBD07F78A3ED3(void *, void *);
void MREP_464D026D98BD4DF6BCF5F70208DF1D6F(void *, void *);
void MREP_556222C8605C403792785F31CFCCBA93(void *, void *);
void MREP_D54035272DFC4D7986BB8490DC339717(void *, void *);
void MREP_90C051AB28134E35A28852E3867F399F(void *, void *);
void MREP_925E517CC69E455F92CFEC7DF743FCC9(void *, void *);
void MREP_E7522A64DE654CD1BB49573F2A73B7BF(void *, void *);
void MREP_DCF2EB7BB1F246288BD4E8EDC0AFD0CF(void *, void *);
void MREP_14209D7971C640AAB94F7ACAA4D322F9(void *, void *);
void MREP_C3E602B55E174008868ABFE890A1F608(void *, void *);
void MREP_483BBF3A949E40BE9AFF45500B561D57(void *, void *);
void MREP_F2F92596B43F4869A6A23A3432981077(void *, void *);
void MREP_497262F4C8294DFA834F212EE398F9CF(void *, void *);
void MREP_F0E952E128D94382AE7F0F2095563E7C(void *, void *);
void MREP_7C65D4001DD244E4A4019FF56880AC1E(void *, void *);
void MREP_EE961ADE60C84808BAB66AF5D8C72E0C(void *, void *);
void MREP_0B7C047D071B4F7F9D7C6CF3707E2D8D(void *, void *);
void MREP_C4BF94C6842F4E4FB734828A49E9150B(void *, void *);
void MREP_5BE95232D2434FA194BA45A737264AAF(void *, void *);
void MREP_A3B54B7FB59041F5BE97AECBD4FED8B7(void *, void *);
void MREP_B3BE9DDA473546C58B2CCC595A062C30(void *, void *);
void MREP_BE1ACFFF36054A518E6DA3C08FFDED94(void *, void *);
void MREP_3F74B969266740C88E9DEDE29C78DD39(void *, void *);
void MREP_D7AA699BDD2E438C9476B43DB59A7BFF(void *, void *);
void MREP_6085A52156514082850CA4F294799E3E(void *, void *);
void MREP_39EFA99D9E104328BB6D0DBACCFC1D72(void *, void *);
void MREP_546A285478FE42C48CA9069EE8E7BB46(void *, void *);
void MREP_11678BB4B38D41969353172D11F97DCD(void *, void *);
void MREP_95ABE37458FE46C299F6312668D94836(void *, void *);
void MREP_3688C2E3C8A24E3AAEA4083CC9DB8945(void *, void *);
void MREP_C09AE07C9508429E90A4C0C7B22F7355(void *, void *);
void MREP_ABAA586CE35B4D5F8EF1DABFBC0EB07B(void *, void *);
void MREP_BBFA32FF9C7441239830FA3D01A0CF4C(void *, void *);
void MREP_D2A9B7A7DD534DCCB54401CB65780896(void *, void *);
void MREP_8AF21AF1F3F34CCC838FFFFD4E5157AE(void *, void *);
void MREP_0B75E2E5E3A447B091283ACA98919032(void *, void *);
void MREP_23B5D33BB1B64BADA472508A8911377E(void *, void *);
void MREP_691D66F1417441CC8014D5E21D610B04(void *, void *);
void MREP_C8B0114911604A689ABE0ED1D08C9E0A(void *, void *);
void MREP_1DB7AA054ED144DFA0223F8D7352C59B(void *, void *);
void MREP_6A26F69ED2DC44B1838C8750233B7C42(void *, void *);
void MREP_0FBE3B38B6634D6B8DBC9B8BEE16129E(void *, void *);
void MREP_3EA3C55531DB48349580ED21D0DC8705(void *, void *);
void MREP_B3F711E32C3C416CAB5C772025ADA4CE(void *, void *);
void MREP_DF1844EE65B44A1E8D55B6DE596AD17E(void *, void *);
void MREP_E88FD4F2A199410F922A884DA11577F6(void *, void *);
void MREP_E4C5126F99294746844A8F0FE3C2EA35(void *, void *);
void MREP_9BD391EB803742259DB88B37A8093076(void *, void *);
void MREP_F40C425F49F34C1B965F318A4E2D32D1(void *, void *);
}

extern "C"
void
RubyMotionInit(int argc, char **argv)
{
    static bool initialized = false;
    if (!initialized) {
	ruby_init();
	ruby_init_loadpath();
        if (argc > 0) {
	    const char *progname = argv[0];
	    ruby_script(progname);
	}
#if !__LP64__
	try {
#endif
	    void *self = rb_vm_top_self();
MREP_101BE46DCAB045EDB1FBBD07F78A3ED3(self, 0);
MREP_464D026D98BD4DF6BCF5F70208DF1D6F(self, 0);
MREP_556222C8605C403792785F31CFCCBA93(self, 0);
MREP_D54035272DFC4D7986BB8490DC339717(self, 0);
MREP_90C051AB28134E35A28852E3867F399F(self, 0);
MREP_925E517CC69E455F92CFEC7DF743FCC9(self, 0);
MREP_E7522A64DE654CD1BB49573F2A73B7BF(self, 0);
MREP_DCF2EB7BB1F246288BD4E8EDC0AFD0CF(self, 0);
MREP_14209D7971C640AAB94F7ACAA4D322F9(self, 0);
MREP_C3E602B55E174008868ABFE890A1F608(self, 0);
MREP_483BBF3A949E40BE9AFF45500B561D57(self, 0);
MREP_F2F92596B43F4869A6A23A3432981077(self, 0);
MREP_497262F4C8294DFA834F212EE398F9CF(self, 0);
MREP_F0E952E128D94382AE7F0F2095563E7C(self, 0);
MREP_7C65D4001DD244E4A4019FF56880AC1E(self, 0);
MREP_EE961ADE60C84808BAB66AF5D8C72E0C(self, 0);
MREP_0B7C047D071B4F7F9D7C6CF3707E2D8D(self, 0);
MREP_C4BF94C6842F4E4FB734828A49E9150B(self, 0);
MREP_5BE95232D2434FA194BA45A737264AAF(self, 0);
MREP_A3B54B7FB59041F5BE97AECBD4FED8B7(self, 0);
MREP_B3BE9DDA473546C58B2CCC595A062C30(self, 0);
MREP_BE1ACFFF36054A518E6DA3C08FFDED94(self, 0);
MREP_3F74B969266740C88E9DEDE29C78DD39(self, 0);
MREP_D7AA699BDD2E438C9476B43DB59A7BFF(self, 0);
MREP_6085A52156514082850CA4F294799E3E(self, 0);
MREP_39EFA99D9E104328BB6D0DBACCFC1D72(self, 0);
MREP_546A285478FE42C48CA9069EE8E7BB46(self, 0);
MREP_11678BB4B38D41969353172D11F97DCD(self, 0);
MREP_95ABE37458FE46C299F6312668D94836(self, 0);
MREP_3688C2E3C8A24E3AAEA4083CC9DB8945(self, 0);
MREP_C09AE07C9508429E90A4C0C7B22F7355(self, 0);
MREP_ABAA586CE35B4D5F8EF1DABFBC0EB07B(self, 0);
MREP_BBFA32FF9C7441239830FA3D01A0CF4C(self, 0);
MREP_D2A9B7A7DD534DCCB54401CB65780896(self, 0);
MREP_8AF21AF1F3F34CCC838FFFFD4E5157AE(self, 0);
MREP_0B75E2E5E3A447B091283ACA98919032(self, 0);
MREP_23B5D33BB1B64BADA472508A8911377E(self, 0);
MREP_691D66F1417441CC8014D5E21D610B04(self, 0);
MREP_C8B0114911604A689ABE0ED1D08C9E0A(self, 0);
MREP_1DB7AA054ED144DFA0223F8D7352C59B(self, 0);
MREP_6A26F69ED2DC44B1838C8750233B7C42(self, 0);
MREP_0FBE3B38B6634D6B8DBC9B8BEE16129E(self, 0);
MREP_3EA3C55531DB48349580ED21D0DC8705(self, 0);
MREP_B3F711E32C3C416CAB5C772025ADA4CE(self, 0);
MREP_DF1844EE65B44A1E8D55B6DE596AD17E(self, 0);
MREP_E88FD4F2A199410F922A884DA11577F6(self, 0);
MREP_E4C5126F99294746844A8F0FE3C2EA35(self, 0);
MREP_9BD391EB803742259DB88B37A8093076(self, 0);
MREP_F40C425F49F34C1B965F318A4E2D32D1(self, 0);
#if !__LP64__
	}
	catch (...) {
	    rb_rb2oc_exc_handler();
	}
#endif
	initialized = true;
    }
}
